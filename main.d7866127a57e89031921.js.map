{"version":3,"sources":["webpack:///./fetchCountries.js","webpack:///./index.js"],"names":["bodyList","document","querySelector","notifyError","delDOM","PNotify","error","title","text","renderCountries","arr","newUl","createElement","classList","add","newCountries","map","country","name","insertAdjacentHTML","join","insertAdjacentElement","renderOneCountry","newCountry","langList","languages","language","capital","population","flag","countriesList","countryTable","remove","addEventListener","_","debounce","searchQuery","target","value","url","fetch","then","response","json","countries","length","catch","err","console","log"],"mappings":"8KAEIA,EAAWC,SAASC,cAAc,QAsBtC,IAAMC,EAAc,WACZC,IACAC,IAAQC,MAAM,CACNC,OAAO,EACPC,KAAM,iEAIhBC,EAAkB,SAACC,GACjBN,IACA,IAAIO,EAAQV,SAASW,cAAc,MACnCD,EAAME,UAAUC,IAAI,gBAAiB,eAAgB,aAAc,QACnE,IAAIC,EAAeL,EAAIM,KAAI,SAACC,GACpB,uCAAwCA,EAAQC,KAAhD,WAERP,EAAMQ,mBAAmB,YAAaJ,EAAaK,KAAK,KACxDpB,EAASqB,sBAAsB,YAAaV,IAG9CW,EAAmB,SAACZ,GAClBN,IACA,IAAImB,EAAatB,SAASW,cAAc,OACxCW,EAAWV,UAAUC,IAAI,eAAgB,eAAgB,OAAQ,aACjE,IACIU,EADYd,EAAI,GAAGe,UACET,KAAI,SAACU,GACtB,uCAAwCA,EAASR,KAAjD,WAERK,EAAWJ,mBAAmB,YAA9B,iDACiDT,EAAI,GAAGQ,KADxD,2EAGmCR,EAAI,GAAGiB,QAH1C,qDAIsCjB,EAAI,GAAGkB,WAJ7C,+EAMkBJ,EAASJ,KAAK,IANhC,qFASmCV,EAAI,GAAGmB,KAT1C,UASwDnB,EAAI,GAAGQ,KAT/D,WAWAlB,EAASqB,sBAAsB,YAAaE,IAG9CnB,EAAS,WACf,IAAI0B,EAAgB7B,SAASC,cAAc,kBACvC6B,EAAe9B,SAASC,cAAc,iBACZ,OAAlB4B,GACIA,EAAcE,SAED,OAAjBD,GACIA,EAAaC,UCrER/B,SAASC,cAAc,gBAG/B+B,iBAAiB,QAASC,EAAEC,UDD1B,SAAyBC,GAChC,GAAiC,KAA7BA,EAAYC,OAAOC,MAAa,CACpC,IAAMC,EAAM,yCAAyCH,EAAYC,OAAOC,MACxEE,MAAMD,GACLE,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAAAG,GACN,OAAIA,EAAUC,OAAS,GACT1C,IAEVyC,EAAUC,OAAS,GAAKD,EAAUC,OAAS,GAChCpC,EAAgBmC,QAE/BtB,EAAkBsB,MAEjBE,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAE1B3C,MCf0D,Q","file":"main.d7866127a57e89031921.js","sourcesContent":["import PNotify from '../node_modules/pnotify/dist/es/PNotify.js';\r\n\r\nlet bodyList = document.querySelector('body');\r\n\r\n\r\nexport default function fetchCountries (searchQuery) {\r\n        if (searchQuery.target.value !== ''){\r\n        const url = `https://restcountries.eu/rest/v2/name/${searchQuery.target.value}`;\r\n        fetch(url)\r\n        .then((response) => response.json())\r\n        .then(countries => {\r\n        if (countries.length > 10) {\r\n               return notifyError();\r\n        };\r\n        if (countries.length > 1 && countries.length < 10) {\r\n                return renderCountries(countries);\r\n        };\r\n        renderOneCountry (countries);\r\n        })\r\n        .catch(err => console.log(err));\r\n        };\r\n        delDOM();\r\n};\r\n\r\nconst notifyError = () => {\r\n        delDOM();\r\n        PNotify.error({\r\n                title: false,\r\n                text: 'Too many matches found. Please enter a more specific query!'\r\n        });\r\n};\r\n\r\nconst renderCountries = (arr) => {\r\n        delDOM();\r\n        let newUl = document.createElement('ul');\r\n        newUl.classList.add(\"coutries-list\", \"center-align\", \"card-panel\", \"lime\");\r\n        let newCountries = arr.map((country) => {\r\n                return `<li class=\"country-name-item\">${country.name}</li>`\r\n        });\r\n        newUl.insertAdjacentHTML('beforeend', newCountries.join(''));\r\n        bodyList.insertAdjacentElement('beforeend', newUl);\r\n};\r\n\r\nconst renderOneCountry = (arr) => {\r\n        delDOM();\r\n        let newCountry = document.createElement('div');\r\n        newCountry.classList.add(\"country-info\", \"center-align\", \"cyan\", \"lighten-5\");\r\n        let languages = arr[0].languages;\r\n        let langList = languages.map((language) => {\r\n                return `<li class=\"country-langeuage\">${language.name}</li>`   \r\n        });\r\n        newCountry.insertAdjacentHTML('beforeend',\r\n        `<h2 class=\"center-align\" style=\"dispay: flex\">${arr[0].name}</h2>\r\n        <div class=\"\">\r\n                <p><span>Capital: </span>${arr[0].capital}</p>\r\n                <p><span>Population: </span>${arr[0].population}</p>\r\n                <ul><span>Languages: </span>\r\n                        ${langList.join('')}\r\n                </ul>\r\n        </div>\r\n        <img class=\"\" width=\"200px\" src=\"${arr[0].flag}\" alt=\"${arr[0].name} flag\">`\r\n        );\r\n        bodyList.insertAdjacentElement('beforeend', newCountry);\r\n};\r\n\r\nconst delDOM = () => {\r\nlet countriesList = document.querySelector('.coutries-list');\r\nlet countryTable = document.querySelector('.country-info');\r\n        if (countriesList !== null) {\r\n                countriesList.remove();\r\n        };\r\n        if (countryTable !== null) {\r\n                countryTable.remove();\r\n        };\r\n};\r\n\r\n","import '../node_modules/pnotify/dist/PNotifyBrightTheme.css'\nimport fetchCountries from './fetchCountries.js'\n\nconst inputCountry = document.querySelector('#icon_prefix')\n\n\ninputCountry.addEventListener('input', _.debounce(fetchCountries, 500));\n"],"sourceRoot":""}